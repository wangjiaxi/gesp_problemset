# 小程序题目功能测试说明

## 🎯 测试目标
验证小程序在有题目时不再显示"敬请期待"页面，而是正常进入答题流程。

## 📊 当前题目数据
根据 `questions_data.js` 中的数据，目前有以下题目：

### 一级题目
- **选择题**: 2道 (2024年12月、2025年6月)
- **判断题**: 1道 (2024年12月)

### 二级题目  
- **选择题**: 1道 (2024年12月)
- **判断题**: 1道 (2024年12月)

### 三级题目
- **选择题**: 1道 (2024年12月)
- **判断题**: 1道 (2024年12月)

### 四级及以上
- 暂无题目，会显示"敬请期待"

## 🧪 测试步骤

### 1. 测试有题目的情况
1. 打开小程序
2. 选择"一级" → 应该显示等级页面
3. 点击"选择题" → 应该进入时间选择页面（不是敬请期待）
4. 选择"2024年12月" → 应该进入答题页面
5. 验证题目正常显示和答题功能

### 2. 测试无题目的情况
1. 选择"四级"或更高等级
2. 点击任意题型 → 应该显示"敬请期待"页面

### 3. 测试时间选择页面
1. 进入有题目的等级和类型
2. 时间选择页面应该只显示有题目的时间选项
3. 如果没有按时间分类的题目，显示"全部题目"选项

## 🔧 关键修改点

### 1. question-type.js
- 使用 `dataManager.getQuestionsByLevelAndType()` 检查题目存在性
- 有题目时跳转到 `question-time` 页面
- 无题目时跳转到 `coming-soon` 页面

### 2. question-time.js  
- 显示实际的题目数量
- 只显示有题目的时间选项
- 如果没有按时间分类，显示"全部题目"

### 3. question-detail.js
- 完全重写，使用 `dataManager` 加载真实题目
- 支持按等级、类型、年月筛选题目
- 如果没有题目，自动返回上一页

### 4. dataManager.js
- 提供统一的数据访问接口
- 支持各种筛选和搜索功能
- 管理用户答题记录和收藏

## ✅ 预期结果

### 有题目的情况
- 一级选择题 → 时间选择 → 答题页面（2道题）
- 一级判断题 → 时间选择 → 答题页面（1道题）
- 二级选择题 → 时间选择 → 答题页面（1道题）
- 二级判断题 → 时间选择 → 答题页面（1道题）
- 三级选择题 → 时间选择 → 答题页面（1道题）
- 三级判断题 → 时间选择 → 答题页面（1道题）

### 无题目的情况
- 四级及以上任意题型 → 敬请期待页面

## 🐛 可能的问题

1. **题目数据格式不匹配**: 检查 `questions_data.js` 中的数据格式
2. **dataManager 未正确加载**: 检查 require 路径
3. **页面跳转参数错误**: 检查 URL 参数编码

## 📝 添加更多题目

如果需要测试更多等级，可以在 `questions_data.js` 中添加题目：

```javascript
{
  "id": "2024_12_07",
  "year": 2024,
  "month": 12,
  "level": 4,  // 四级
  "type": "choice",
  "question": "四级测试题目",
  "options": [
    {"key": "A", "value": "选项A"},
    {"key": "B", "value": "选项B"},
    {"key": "C", "value": "选项C"},
    {"key": "D", "value": "选项D"}
  ],
  "answer": "A",
  "explanation": "答案解析",
  "difficulty": 3,
  "tags": ["测试"]
}
```

添加题目后，对应的等级和类型就不会再显示"敬请期待"了。